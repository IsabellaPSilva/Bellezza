<ion-content class="fundo">
 
  <!-- Calendário interativo -->
  <ion-card class="fundo">
    <ion-card-content>
      <div class="logo-container">
        <img src="assets/teste-bellezza-logo.jpeg" alt="Logo" class="logo-img" />
      </div>
      <ion-datetime class="fundo"
        presentation="date"
        [(ngModel)]="selectedDate"
        locale="pt-BR">
      </ion-datetime>
    </ion-card-content>
  </ion-card>
 
  <!-- Botão adicionar -->
  <ion-button class="horario" expand="block" color="medium" (click)="adicionarHorario()">
    <ion-icon name="add-circle-outline" slot="start"></ion-icon>
    Adicionar horário de serviço
  </ion-button>
 
  <!-- Cards de agendamento dinâmicos -->
  <div *ngFor="let reserva of reservas; trackBy: trackByReservaId">
    <ion-card>
      <ion-card-content class="fundo">
        <h2>{{ reserva.cliente }}</h2>
        <p><b>{{ reserva.preco }}</b></p>
        <p>Serviço: {{ reserva.servico }}</p>
        <p>Data: {{ reserva.dataExibicao || reserva.data }}</p>
        <p>Horário: {{ reserva.horario }}</p>
        <p>Status:
          <span [ngClass]="{
            'status-pendente': reserva.status === 'pendente',
            'status-aceito': reserva.status === 'aceito',
            'status-recusado': reserva.status === 'recusado'
          }">
            {{ reserva.status === 'pendente' ? 'Pendente' :
               reserva.status === 'aceito' ? 'Aceito' : 'Recusado' }}
          </span>
        </p>
 
        <!-- Mostrar botões apenas se o status for pendente -->
        <div *ngIf="reserva.status === 'pendente'" class="botoes-acao">
          <ion-button class="recusar" (click)="confirmarAcao('recusar', reserva)">RECUSAR</ion-button>
          <ion-button class="aceitar" (click)="confirmarAcao('aceitar', reserva)">ACEITAR</ion-button>
        </div>
 
      </ion-card-content>
      <ion-item class="trinta" lines="none">
        <ion-label slot="end">
          <b>{{ formatarData(reserva.data) }}</b>
        </ion-label>
      </ion-item>
    </ion-card>
  </div>
 
  <!-- Mensagem quando não há reservas -->
  <div *ngIf="reservas.length === 0" class="sem-reservas">
    <ion-card>
      <ion-card-content>
        <p>Nenhuma reserva encontrada.</p>
        <p>Faça uma reserva na página de calendário primeiro.</p>
      </ion-card-content>
    </ion-card>
  </div>
 
</ion-content>
 
<!-- Rodapé -->
<ion-tab-bar slot="bottom">
  <ion-tab-button routerLink="/calendarioP">
    <ion-icon name="calendar-outline"></ion-icon>
    <ion-label>Agendamentos</ion-label>
  </ion-tab-button>
 
  <ion-tab-button routerLink="/salao">
    <ion-icon name="person-outline"></ion-icon>
    <ion-label>Perfil</ion-label>
  </ion-tab-button>
 
  <ion-tab-button routerLink="/reservaP">
    <ion-icon name="storefront-outline"></ion-icon>
    <ion-label>Salão</ion-label>
  </ion-tab-button>
</ion-tab-bar>